<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ahoy Indie Media · New Haven</title>
    <meta name="description"
      content="Discover the latest events and performances by Ahoy Indie Media in New Haven. Join us for live shows, cabarets, and more.">
    <meta name="keywords"
      content="Ahoy Indie Media, New Haven events, live performances, cabaret shows, local events, New Haven entertainment">
    <meta name="author" content="Ahoy Indie Media">
    <meta property="og:title" content="Ahoy Indie Media · New Haven">
    <meta property="og:description"
      content="Discover the latest events and performances by Ahoy Indie Media in New Haven. Join us for live shows, cabarets, and more.">
    <meta property="og:type" content="website">
    <meta property="og:url"
      content="https://ahoymrag.github.io/experiments/newhaven.html">
    <meta property="og:image"
      content="https://ahoymrag.github.io/experiments/images/ahoy_newhaven.jpg">
    <script defer data-domain="ahoynewhaven.org" src="https://plausible.io/js/script.js"></script> 
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Ahoy Indie Media · New Haven">
    <meta name="twitter:description"
      content="Discover the latest events and performances by Ahoy Indie Media in New Haven. Join us for live shows, cabarets, and more.">
    <meta name="twitter:image"
      content="https://ahoymrag.github.io/experiments/images/ahoy_newhaven.jpg">
    <link rel="stylesheet" href="newhaven.css">
  </head>
  <body>
    <!-- Add visit counter element -->
    <div class="visit-counter">
        <i class="fas fa-eye"></i>
        <span id="visitCount">Loading...</span>
    </div>

    <div class="super-container">
      <header class="site-header">
        <div class="logo-container">
          <a href="https://ahoy.ooo" target="_blank">
            <img src="https://ahoy.ooo/ahoyApp/www/img/assets/u_ahoy23.png"
              alt="Ahoy Logo" class="header-logo">
          </a>
        </div>
        <div class="header-content">
          <h1><span class="cubano">AHOY</span> · New Haven</h1>
          <div class="about-text">
            <p>We're building a platform for local New Haven artists,
              musicians,
              and performers to share their craft across our little city city.</p>
          </div>
        </div>
      </header>

      <!-- Media Gallery Section -->
      <div class="section-header">
        <h2>Media Gallery</h2>
      </div>
      <div class="gallery-nav">
        <button class="gallery-filter active" data-filter="all">All Events</button>
        <button class="gallery-filter" data-filter="cabaret">Cabaret Shows</button>
        <button class="gallery-filter" data-filter="poetry">Poetry Nights</button>
      </div>
      <div class="media-gallery-grid" id="newhaven-gallery">
        <!-- Gallery items will be loaded from JSON -->
      </div>

      <div class="section-header">
        <h2>Next Event</h2>
      </div>

      <div class="glass poets featured" onclick="toggleEvent(this)">
        <div class="event-date">May 21, 2025 - 8:00 PM</div>
        <div class="event-title">Poets and Friends #2</div>
        <div class="location">
          Live at <a href="https://www.koffeefamily.com" target="_blank"
            class="venue-link" onclick="event.stopPropagation()">Koffee?</a>
          <div class="venue-details">
            <span class="venue-name">Koffee?</span><br>
            104 Audubon Street, New Haven, CT 06511
          </div>
        </div>
        <div class="event-details">
          <img src="https://storage.googleapis.com/ahoy-dynamic-content/ahoy-new-haven/Event%20Graphics/FLYER%20PRINT%201%20.jpg" 
               alt="Poets and Friends #2" 
               class="event-image"
               onclick="openModal(this.src, event)">
          <div class="tags">
            <span class="tag">Poetry</span>
            <span class="tag">Performance</span>
            <span class="tag">Live Event</span>
          </div>

          <p>Join us for an evening of poetry and community at Koffee? Experience the power of spoken word and connect with local poets and performers.</p>

          <div class="donation-info">
            <p>Free Entry</p>
            <div class="price-tag">Suggested Donation: $10</div>
            <small>Supporting local poets and performers</small>
          </div>

         

          <div class="map-container">
            <iframe width="100%" height="100%" frameborder="0" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2997.5!2d-72.9289!3d41.3107!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDHCsDE4JzM4LjUiTiA3MsKwNTUnNDQuMCJX!5e0!3m2!1sen!2sus!4v1635180941414!5m2!1sen!2sus"></iframe>
          </div>
        </div>
      </div>

      <div class="section-header">
        <h2>Upcoming Shows</h2>
      </div>

      <div class="upcoming-shows">
        <div class="glass" onclick="toggleEvent(this)">
          <div class="event-date">Summer 2025 (TBD)</div>
          <div class="event-title">Ahoy Cabaret Show 4</div>
          <div class="location">
            Venue To Be Announced
            <div class="venue-details">
              <span class="venue-name">Location TBA</span><br>
              New Haven Area
            </div>
          </div>
          <div class="event-details">
            <div class="tags">
              <span class="tag">Cabaret</span>
              <span class="tag">Music</span>
              <span class="tag">Performance</span>
              <span class="tag">Coming Soon</span>
            </div>
            <p>The Ahoy Cabaret returns for its fourth installment this summer! Details about the venue and exact date will be announced soon. Stay connected for updates about this upcoming variety show featuring local talent.</p>

            <div class="donation-info">
              <p>Free Entry</p>
              <div class="price-tag">Suggested Donation: $10</div>
              <small>All proceeds support local artists</small>
            </div>

            <div class="action-buttons">
              <a href="https://instagram.com/ahoyindiemedia"
                class="action-btn secondary-btn" target="_blank"
                onclick="event.stopPropagation()">
                <i class="fab fa-instagram"></i>
                Follow for Updates
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="section-header">
        <h2>Past Shows</h2>
      </div>

      <div class="glass poets" onclick="toggleEvent(this)">
        <div class="event-date">Apr 16, 2025</div>
        <div class="event-title">Poets and Friends</div>
        <div class="location">
          Live at <a href="https://www.koffeefamily.com" target="_blank"
            class="venue-link"
            onclick="event.stopPropagation()">Koffee?</a>
          <div class="venue-details">
            <span class="venue-name">Koffee?</span><br>
            104 Audubon Street, New Haven, CT 06511
          </div>
        </div>
        <div class="countdown" data-date="2025-04-16"></div>
        <div class="event-details">
          <img
            src="https://storage.googleapis.com/ahoy-dynamic-content/images/ahoyPoet-1/UPDATED_Come%20thru%20to%20Ahoy's%20next%20event%20-%204.16.25%20at%20Koffee.png"
            alt=" Poets and Friends"
            class="event-image"
            onclick="openModal(this.src, event)">
          <div class="tags">
            <span class="tag">Poetry</span>
            <span class="tag">Performance</span>
          </div>

          <div class="donation-info">
            <p>Free Entry</p>
            <div class="price-tag">Suggested Donation: $10</div>
            <small>Supporting local poets and performers</small>
          </div>

          <div class="action-buttons">
            <a href="#" class="ticket-btn">Reserve Your Spot</a>
          </div>
        </div>
      </div>

      <div class="glass show-3" onclick="toggleEvent(this)">
        <div class="event-date">Mar 22, 2025</div>
        <div class="event-title">Ahoy Cabaret Show 3</div>
        <div class="location">
          Live at <a href="https://koffeect.com" target="_blank"
            class="venue-link"
            onclick="event.stopPropagation()">Koffee?</a>
          <div class="venue-details">
            <span class="venue-name">Koffee?</span><br>
            104 Audubon Street, New Haven, CT 06511
          </div>
        </div>
        <div class="countdown" data-date="2025-03-22"></div>
        <div class="event-details">
          <img
            src="https://storage.googleapis.com/ahoy-dynamic-content/news/Ahoy%20Cabaret%20-%203.22.25.jpg"
            alt="Ahoy Cabaret Show 3"
            class="event-image">
          <div class="tags">
            <span class="tag">Cabaret</span>
            <span class="tag">Music</span>
            <span class="tag">Performance</span>
          </div>
          <p>Join us for an unforgettable evening of cabaret performances
            featuring New Haven's finest artists!</p>

          <div class="donation-info">
            <p>Free Entry</p>
            <div class="price-tag">Suggested Donation: $10</div>
            <small>All proceeds support local artists</small>
          </div>

          <div class="social-proof">
            <div class="attendee-avatars">
              <div></div>
              <div></div>
              <div></div>
            </div>
            <span>32 people are going</span>
          </div>

          <div class="action-buttons">
            <a href="https://partiful.com/e/yourEventID"
              class="action-btn primary-btn"
              target="_blank"
              onclick="event.stopPropagation()">
              <i class="fas fa-ticket-alt"></i>
              RSVP on Partiful
            </a>

            <a href="https://square.link/yourPaymentLink"
              class="action-btn secondary-btn"
              target="_blank"
              onclick="event.stopPropagation()">
              <i class="fas fa-heart"></i>
              Make a Donation
            </a>

            <a href="#"
              class="action-btn secondary-btn"
              onclick="addToCalendar(event, '2025-03-22', 'Ahoy Cabaret Show 3')">
              <i class="fas fa-calendar-plus"></i>
              Add to Calendar
            </a>

            <a href="https://instagram.com/ahoyindiemedia"
              class="action-btn secondary-btn"
              target="_blank"
              onclick="event.stopPropagation()">
              <i class="fab fa-instagram"></i>
              Follow Updates
            </a>
          </div>

          <div class="map-container">
            <iframe
              width="100%"
              height="100%"
              frameborder="0"
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2997.5!2d-72.9289!3d41.3107!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDHCsDE4JzM4LjUiTiA3MsKwNTUnNDQuMCJX!5e0!3m2!1sen!2sus!4v1635180941414!5m2!1sen!2sus">
            </iframe>
          </div>
        </div>
      </div>

      <div class="glass show-2" onclick="toggleEvent(this)">
        <div class="event-date">Feb 22, 2025</div>
        <div class="event-title">Ahoy Cabaret Show 2</div>
        <div class="location">
          Live at <a href="https://bestvideo.com" target="_blank"
            class="venue-link" onclick="event.stopPropagation()">Best
            Video</a>
          <div class="venue-details">
            <span class="venue-name">Best Video Film & Cultural
              Center</span><br>
            1842 Whitney Avenue, Hamden, CT 06517
          </div>
        </div>
        <div class="countdown" data-date="2025-02-22"></div>
        <div class="event-details">
          <img
            src="https://storage.googleapis.com/ahoy-dynamic-content/news/%5BahoyCaba%5D%5Bpromo%5D%5B2-22%20-%20Full%20Color%5D-%5B001%5D.jpg"
            alt="Ahoy Cabaret Show 2"
            class="event-image">
          <div class="tags">
            <span class="tag">Cabaret</span>
            <span class="tag">Music</span>
            <span class="tag">Performance</span>
          </div>
          <p>The second installment of our popular cabaret series
            featuring
            local performers, musicians, and artists.</p>
          <div class="map-container">
            <!-- Add Best Video map embed -->
          </div>
          <a href="#" class="ticket-btn">Get Tickets</a>
        </div>
      </div>
    </div>
    <div id="past-events"></div>

    <!-- Enhanced Modal -->
    <div id="imageModal" class="modal" onclick="closeModal()">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <img class="modal-image" src="" alt="Full size image">
        <div class="modal-nav">
          <button onclick="navigateGallery(-1, event)">❮</button>
          <button onclick="navigateGallery(1, event)">❯</button>
        </div>
      </div>
    </div>

    <script>
      // Load gallery from JSON
      fetch('newhaven-gallery.json')
        .then(response => response.json())
        .then(data => {
          const gallery = document.getElementById('newhaven-gallery');
          data.gallery.forEach(item => {
            const div = document.createElement('div');
            div.className = 'gallery-item';
            div.dataset.category = item.category;
            div.innerHTML = `
              <img src="${item.image}" 
                   alt="${item.title}" 
                   class="gallery-image"
                   onclick="openModal(this.src, event)">
              <div class="gallery-caption">${item.title}</div>
            `;
            gallery.appendChild(div);
          });
        });

      // Gallery filtering
      document.querySelectorAll('.gallery-filter').forEach(filter => {
        filter.addEventListener('click', () => {
          // Update active state
          document.querySelectorAll('.gallery-filter').forEach(f => f.classList.remove('active'));
          filter.classList.add('active');
          
          const category = filter.dataset.filter;
          document.querySelectorAll('.gallery-item').forEach(item => {
            if (category === 'all' || item.dataset.category === category) {
              item.style.display = 'block';
            } else {
              item.style.display = 'none';
            }
          });
        });
      });

      // Enhanced modal functionality
      let currentImageIndex = 0;
      let galleryImages = [];

      function openModal(imgSrc, event) {
        event.stopPropagation();
        const modal = document.getElementById('imageModal');
        const modalImg = document.querySelector('.modal-image');
        
        galleryImages = Array.from(document.querySelectorAll('.gallery-image'));
        currentImageIndex = galleryImages.findIndex(img => img.src === imgSrc);
        modal.style.display = "block";
        modalImg.src = imgSrc;
        document.body.style.overflow = 'hidden';
      }

      function closeModal() {
        const modal = document.getElementById('imageModal');
        modal.style.display = "none";
        document.body.style.overflow = 'auto';
      }

      function navigateGallery(direction, event) {
        event.stopPropagation();
        currentImageIndex = (currentImageIndex + direction + galleryImages.length) % galleryImages.length;
        const modalImg = document.querySelector('.modal-image');
        modalImg.src = galleryImages[currentImageIndex].src;
      }

      // Close modal with ESC key
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          closeModal();
        } else if (e.key === 'ArrowLeft') {
          navigateGallery(-1, e);
        } else if (e.key === 'ArrowRight') {
          navigateGallery(1, e);
        }
      });
    </script>
    <footer class="site-footer">
      <div class="footer-content">
        <div class="footer-brand">
          
        </div>
        
        <div class="footer-about">
          <br>
          <img src="https://ahoy.ooo/ahoyApp/www/img/assets/u_ahoy23.png"
            alt="Ahoy Logo" class="footer-logo">
            <br><br>
          <p><strong>Ahoy Indie Media</strong> is a hand-crafted media company based in New Haven, Connecticut. We're building an alternative avenue for exploring indie media, supporting independent filmmakers, musicians, podcasters, and creators with a space to share their work.</p>
          
          <p>We sustain our operations through sheer will power, keeping the platform accessible and ad-free. Every piece of content on our platform is here with the express blessings of the artists involved.</p>

          <div class="footer-cta">
            <h2>How could you get involved?</h2>
            <h3>Launch Ahoy</h3>
            <p>Experience our hand-coded platform - a new way to discover and support independent creators.</p>
            
            <div class="steps-container">
              <div class="step">
                <span class="step-number">1</span>
                <p>Launch <a href="https://ahoy.ooo" class="highlight-link" target="_blank">ahoy.ooo</a> and explore our curated collection</p>
              </div>
              <div class="step">
                <span class="step-number">2</span>
                <p>Discover new artists and share the gems</p>
              </div>
             
              <div class="step">
                <span class="step-number">3</span>
                <p>Join us at live events and be part of the community</p>
              </div>
            </div>

            <div class="cta-buttons">
              <a href="https://ahoy.ooo" class="action-btn primary-btn" target="_blank">
                <i class="fas fa-rocket"></i>
                Launch Platform
              </a>
            </div>

            <div class="newsletter-section">
              <form id="newsletter-form" action="https://formspree.io/f/xldrvdzz" method="POST" class="newsletter-form">
                <div class="form-group">
                  <input type="email" name="email" placeholder="Enter your email for updates" required>
                  <input type="hidden" name="source" value="newhaven_events">
                  <input type="hidden" name="form_type" value="newsletter_signup">
                  <button type="submit" class="submit-btn">
                    <i class="fas fa-paper-plane"></i>
                    Subscribe
                  </button>
                </div>
                <p class="form-note">Get early access to new features and exclusive content drops</p>
              </form>
            </div>

            <div class="artist-outreach">
              <h3>Are You an Artist?</h3>
              <p>Have content to share, a poem to read, or a song to play? We'd love to hear from you!</p>
              <a href="mailto:contact@ahoy.ooo" class="action-btn secondary-btn">
                <i class="fas fa-envelope"></i>
                Reach Out to Us @ contact@ahoy.ooo
              </a>
            </div>

          </div>
        </div>
      </div>
    </footer>
    <script
      src="https://kit.fontawesome.com/your-font-awesome-kit.js"></script>
    <script>
        function toggleEvent(element) {
            element.classList.toggle('active');
            // Update hint visibility
            document.querySelector('.hint').style.display = 'none';
        }

        // Update countdowns
        function updateCountdowns() {
            document.querySelectorAll('.countdown').forEach(el => {
                const eventDate = new Date(el.dataset.date);
                const now = new Date();
                const diff = eventDate - now;
                
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                if (days > 0) {
                    el.textContent = `${days} days until event`;
                } else if (days === 0) {
                    el.textContent = "Today!";
                } else {
                    el.textContent = "Event has passed";
                }
            });
        }

        // Update countdowns immediately and every hour
        updateCountdowns();
        setInterval(updateCountdowns, 3600000);

        function addToCalendar(e, date, title) {
            e.stopPropagation();
            const event = {
                title: title,
                start: date + 'T19:00:00',
                end: date + 'T22:00:00',
                location: 'Koffee, New Haven, CT'
            };
            
            const googleCalendarUrl = `https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(event.title)}&dates=${event.start.replace(/[-:]/g, '')}/${event.end.replace(/[-:]/g, '')}&location=${encodeURIComponent(event.location)}`;
            
            window.open(googleCalendarUrl, '_blank');
        }

        // Add visit counter script
        function updateVisitCount() {
            const counter = document.getElementById('visitCount');
            
            // Fetch data from Plausible API
            fetch('https://plausible.io/api/event', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    name: 'pageview',
                    url: window.location.href,
                    domain: 'ahoy.ooo'
                })
            })
            .then(response => response.json())
            .then(data => {
                // Update counter with formatted number
                counter.textContent = formatNumber(data.visitors || 0);
            })
            .catch(error => {
                console.error('Error fetching visit count:', error);
                counter.textContent = '—';
            });
        }

        // Update count when page loads
        document.addEventListener('DOMContentLoaded', updateVisitCount);
    </script>
  </body>
</html>